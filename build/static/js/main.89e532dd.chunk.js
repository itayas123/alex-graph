(this["webpackJsonpalex-graph"]=this["webpackJsonpalex-graph"]||[]).push([[0],{120:function(e,t){},266:function(e,t,n){},268:function(e,t,n){},272:function(e,t,n){},317:function(e,t){},319:function(e,t){},328:function(e,t){},330:function(e,t){},356:function(e,t){},358:function(e,t){},359:function(e,t){},364:function(e,t){},366:function(e,t){},385:function(e,t){},397:function(e,t){},400:function(e,t){},448:function(e){e.exports=JSON.parse('{"type":"service_account","project_id":"alex-graph","private_key_id":"726c372311a6bb2a2e792a974466e278f092f61c","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCQ6LXGEqQgL0Xv\\noJzL6H+nJ+f9l1Ro8t0Xet5NhJ9yZglCP9fffR2jrMZxBZ2cGfGeDlnChbhXTQdr\\nXFN9jGezrQb/anCIt9qSFRWHo12B7u4L3GUIJJINWYTcHehCOc6Ckac8Jo/VeMqo\\nPD4Ws/osjurfGUhRQroLQHe/BhQkHzd77RS7eoEulmqkYaELYpvCIfk12xKhF6+a\\n+i+fu/SATqU6yWbx/KmLol4GSGrWRUj79anvpDN4Fpj6R/e//GvBCY8Seusmsed/\\nU0sutBKDkK3fWTdlshCdGjFWF7SCWaIJwiDd67s90heTTabNSymtLElI0LxxQKsC\\nfv7TjyovAgMBAAECggEAFwBBHhQGZi9qv+r0CG+6l2s/qSJ0nQXzrw7rK03CS1PD\\n43ajys8evcSmaPk1t7nsfqSTfctg48aPx2xLulFngn8T7cXU3/ai5G4hUTrOlFm7\\nAjn09XJsll7ftlqu65gmXdZFv8f1K7K1JDgPuOXPb3Qt9sSaFH/tbOzKNRF/b+4h\\nZ6xCixrbzxU4klQGV9V2gAEmD4AjVKZYt81t97TDvgaIyDII+YEB+2u51aeGGCjz\\n8gNqc+zv3TRrY/1I9XqT1aqFnJfCWs6JT1YeSAQSTuRhAUcVc8JVzYt3AdvKRqZO\\n3eSqEL9+Yrr/6P/4RWSHZBZwNcgQqkFONrKv95q5XQKBgQDDKEa73s9LP2B1P0rr\\nYCUMStdaENz2qGMN8OHngmhnld2RP/lwYUCK1lEySEdcHHmc3hFCHQqY4AJ0mkk2\\n7iFgU6M0WsZF2vVVc54gkQp+8cIDXdojhLA6gfo8Huww1Lvmro8Sab+wOgakjd97\\npskhO2rW/PjnWjJLsCMLKAa6nQKBgQC+Fg9/gI7WjK+fvYuJ9CN0L+udffNx+Xn3\\nPX1YnKNDBMqpR5xXMYiWi7v4PM7SzzqyAvXnWlLuQB4R1YBDBZ7qfm7f7QNPpzy+\\n/FpnYrnyMaD+Tz3ehGUJHK5ShtLRi0WE0RP5yLRAzjwrZTaeSglgyhubtWYNQ/5m\\nzYtYeb5IOwKBgD9Fz6kZlBvRcHSTELc/dMOHgEqzLPDLp1Hdx2BH55GuBSgSlczZ\\nuxNIaQrkZD54/PTfCrlksQrflew4GYS1sByLAV74D1CWrPQHiD0GyWBfAYgV5aOe\\nYYSWn4ree7VZQ5KHBdvybTO1nHG9jbeJW6xqlzkcy5Y2qBfiA3qaf5QBAoGASr0R\\nyugZQXJ/eydjvhIn/n74/SuQlLeqpPOgXT75UliH9pcZeY8YTVkTxz7hczHXujY/\\nyX9SLCs5p3lyvOdw3HJp1dGzA5aV4+IFCbFfu0KYMmWlxd/4eeS1Be3M5mcEJnyu\\nhf/MH873CXj6SLKDjXLp+AcS4RRi6rjWmSsFDhECgYEAiZmy8S6J4afLTZC3gbSy\\nSTjtPY01lZX8GfTMQoSViXqB8auFMagP1dYvsrP9ouyUuSWSe8P/42R3NaBJW3zx\\nlkm8hpzg/6k3RSQlhsv1sC3AuC2C+C6R7/wAOcAQibN2RL4eCJ52hsw0gSUblcd/\\ngtm2h0Wc3h/A+kdEGzndwIA=\\n-----END PRIVATE KEY-----\\n","client_email":"alex-graph-admin@alex-graph.iam.gserviceaccount.com","client_id":"112700301495219825535","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/alex-graph-admin%40alex-graph.iam.gserviceaccount.com"}')},554:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),o=n(255),s=n.n(o),i=(n(266),n(8)),u=n.n(i),l=n(24),f=n(43),d=(n(268),n(35)),g=n(261),h=(n(271),n(272),n(7)),p=function(e){var t=e.data,n=e.columns,r=e.className;return Object(h.jsx)(g.a,Object(d.a)(Object(d.a)({data:t,columns:n,defaultSortMethod:function(e,t){return e&&t?e===t?0:(e.includes("/")?Date.parse(e):parseFloat(e.replace(/,/g,""))||e)>(t.includes("/")?Date.parse(t):parseFloat(t.replace(/,/g,""))||t)?1:-1:-1},defaultFilterMethod:function(e,t){return!!t[e.id]&&t[e.id].toString().toLowerCase().includes(e.value.toLowerCase())}},e),{},{className:"-striped -highlight ".concat(r)}))};!function(e){e.TOTAL="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 1",e.OPEN="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 2",e.CLOSE="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 3"}(r||(r={}));var v={"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 1":2,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 2":7,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 3":7},b=function(e){var t=e.googleSheetsService,n=e.sheetName,r=e.title,c=e.isLoading,o=e.setIsLoading,s=e.isHorizontal,i=e.offset,d=Object(a.useState)([]),g=Object(f.a)(d,2),v=g[0],b=g[1],j=Object(a.useState)([]),S=Object(f.a)(j,2),x=S[0],m=S[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var r,a,c,l,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=10;break}return e.next=3,t.getHorizontalRowsandColumnByTitle(n);case 3:r=e.sent,a=r.sheetColumns,c=r.sheetData,m(a),b(c),e.next=19;break;case 10:return e.next=12,t.getCellsByTitle(n,i);case 12:return l=e.sent,e.next=15,t.getRowsByTitle(n,i);case 15:f=e.sent,i&&f.forEach((function(e,r){l.forEach((function(a,c){e[a.Header]=t.getCellByTitleAndIndex(n,i+r+1,c)}))})),m(l),b(f);case 19:o();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n,s,i]),c?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{children:[r&&Object(h.jsx)("h3",{children:r}),Object(h.jsx)(p,{columns:x,data:v,showPagination:!1,defaultPageSize:v.length,className:s?"is-horizontal":""})]})},j=n(15),S=n(4),x=n(5),m=n(256),O=function(){function e(){Object(S.a)(this,e),this._doc=void 0,this._doc=new m.GoogleSpreadsheet("1LbIprnwWJTQYWJy8uh7E1rr1MOaSbuiHPYzjL9h0eEQ")}return Object(x.a)(e,[{key:"init",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(448),e.prev=1,e.next=4,this._doc.useServiceAccountAuth(t);case 4:return e.next=6,this._doc.loadInfo();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to connect google sheets: ",e.t0);case 11:console.log("Success to connect google sheets and load info");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getRowsByTitle",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this._doc.sheetsByTitle[t],e.next=4,r.getRows(n?{offset:n,limit:99999999}:void 0);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCellByTitleAndIndex",value:function(e,t,n){var r=this._doc.sheetsByTitle[e];if(!r.cellStats.loaded)throw new Error("not loaded");return r.getCell(t,n).formattedValue}},{key:"getCellsByTitle",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,o,s,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:0,e.prev=1,r=[],a=this._doc.sheetsByTitle[t],console.log(a.cellStats),a.cellStats.loaded){e.next=8;break}return e.next=8,a.loadCells();case 8:for(c=v[t],o=0;o<c;o++)s=a.getCell(n,o),r[o]={Header:s.formattedValue,accessor:s.formattedValue};return e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getHorizontalRowsandColumnByTitle",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCellsByTitle(t,n);case 2:return o=e.sent,e.next=5,this.getRowsByTitle(t);case 5:return(s=e.sent).unshift((c={},Object(j.a)(c,(null===(r=o[0].accessor)||void 0===r?void 0:r.toString())||"",o[0].Header),Object(j.a)(c,(null===(a=o[1].accessor)||void 0===a?void 0:a.toString())||"",o[1].Header),c)),o.forEach((function(e){var t;parseFloat((null===(t=e.accessor)||void 0===t?void 0:t.toString().replace(/,/g,""))||"")&&(e.accessor="some accessor")})),s.forEach((function(e){var t=Object.keys(e).find((function(e){return parseFloat(e.replace(/,/g,""))}));t&&(e["some accessor"]=e[t])})),e.abrupt("return",{sheetColumns:o,sheetData:s});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=n(257),w=n.n(y),C=function(e){var t=e.color,n=void 0===t?"rgb(55, 179, 115)":t,r=e.type,a=void 0===r?"spinningBubbles":r;return Object(h.jsx)(w.a,{className:"loader",color:n,type:a})},L=n(16),B=n(260),k="Exit Date",A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:t}).format(e)},T={plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=A(e.parsed.y)),t}}}},scales:{yAxes:{ticks:{callback:function(e){return A(e,0)}}}}},E=function(e){var t=e.googleSheetsService,n=e.isLoading,c=e.setIsLoading,o=e.type,s=void 0===o?"line":o,i=Object(a.useState)(),d=Object(f.a)(i,2),g=d[0],p=d[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var n,a,o,s,i,l,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRowsByTitle(r.CLOSE);case 2:return n=e.sent,e.next=5,t.getCellsByTitle(r.OPEN);case 5:a=e.sent[0],o=a.Header.split(" "),s=o[o.length-1],i=Array.from(new Set(n.map((function(e){return e[k]})))).sort((function(e,t){return new Date(e).getDate()-new Date(t).getDate()})),l=[],i.forEach((function(e,t){l[t]=n.filter((function(t){return new Date(t[k])<=new Date(e)})).reduce((function(e,t){var n=t["$ PnL"];return e+parseFloat(n.replace(/,/g,""))}),0)})),f={labels:[s].concat(Object(L.a)(i)),datasets:[{label:"Portfolio Performance",data:[0].concat(l),fill:!1,backgroundColor:"rgb(55, 179, 115)",borderColor:"rgba(55, 179, 115, 0.2)"},{type:"line",label:"Line Dataset",data:Array.from({length:i.length+1},(function(){return 0})),pointRadius:0}]},p(f),c();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(h.jsx)("div",{className:"chart-div",children:n?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Portfolio Performance"}),Object(h.jsx)(B.a,{data:g,options:T,type:s})]})})},P=new O;var F=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],c=t[1],o=n<5;return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.init();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:c((function(e){return e+1}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(h.jsxs)("div",{className:"App",children:[o&&Object(h.jsx)(C,{}),n>0?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"total-div",children:[Object(h.jsx)(b,{title:"Strategy Performance",isLoading:o,setIsLoading:function(){return c((function(e){return e+1}))},googleSheetsService:P,sheetName:r.TOTAL,isHorizontal:!0}),Object(h.jsx)(E,{googleSheetsService:P,isLoading:n<4,setIsLoading:function(){return c((function(e){return e+1}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(b,{title:"Open Positions",isLoading:o,setIsLoading:function(){return c((function(e){return e+1}))},googleSheetsService:P,sheetName:r.OPEN,offset:3}),Object(h.jsx)("br",{}),Object(h.jsx)(b,{title:"Close Positions",isLoading:o,setIsLoading:function(){return c((function(e){return e+1}))},googleSheetsService:P,sheetName:r.CLOSE})]})]}):Object(h.jsx)(h.Fragment,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,555)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),D()}},[[554,1,2]]]);
//# sourceMappingURL=main.89e532dd.chunk.js.map